"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("react/jsx-runtime"),r=require("react"),P=require("./focusFocusable.cjs"),R=require("./RawTableContext.cjs"),t=require("../helpers/keyboardKeys.cjs"),q=({colCount:l,rowCount:c,jumpStep:b=3,initialCol:D=0,initialRow:k=0,...d})=>{const f=r.useRef(null),n=r.useRef(!1),[o,s]=r.useState(k),[y,u]=r.useState(D),K=r.useCallback(({colIndex:a,rowIndex:e})=>{u(a),s(e)},[]);r.useEffect(()=>{n.current&&P.focusFocusable(f.current),n.current||(n.current=!0)},[y,o]);const T=a=>{switch(a.key){case t.KeyboardKeys.RIGHT:{a.preventDefault(),u(e=>e<l-1?e+1:e);break}case t.KeyboardKeys.LEFT:{a.preventDefault(),u(e=>e>0?e-1:e);break}case t.KeyboardKeys.UP:{a.preventDefault(),s(e=>e>0?e-1:e);break}case t.KeyboardKeys.DOWN:{a.preventDefault(),s(e=>e<c-1?e+1:e);break}case t.KeyboardKeys.HOME:{a.preventDefault(),a.ctrlKey&&s(0),u(0);break}case t.KeyboardKeys.END:{a.preventDefault(),a.ctrlKey&&s(c-1),u(l-1);break}case t.KeyboardKeys.PAGE_DOWN:{a.preventDefault(),s(e=>e+b<c?e+b:c-1);break}case t.KeyboardKeys.PAGE_UP:{a.preventDefault(),s(e=>e-b>0?e-b:0);break}}},E=r.useMemo(()=>({rowIndex:o,colIndex:y,setTableValues:K}),[y,o,K]);return i.jsx(R.RawTableContext.Provider,{value:E,children:i.jsx("table",{role:"grid",ref:f,"aria-rowcount":c,"aria-colcount":l,onKeyDown:T,...d})})};exports.RawTable=q;
