"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("react/jsx-runtime"),r=require("react"),l=require("../helpers/getFocusableNodes.cjs"),f=require("../helpers/keyboardKeys.cjs"),m=({onEscape:s,restoreFocus:o=!0,...i})=>{const n=r.useRef(null);r.useEffect(()=>{let e=null;return o&&(e=document.activeElement),()=>{e&&e.focus()}},[o]),r.useEffect(()=>{if(!n.current)return;const e=l.getFocusableNodes(n.current);e.length>0?e[0].focus():console.warn("[FocusTrap]: it seems there are no focusable elements in the focus trap tree. Make sure there s at least one.")},[]);const a=e=>{if(e.key===f.KeyboardKeys.ESCAPE&&s){s();return}if(e.key!==f.KeyboardKeys.TAB)return;const t=l.getFocusableNodes(n.current);if(t.length>0){const u=t[0],c=t[t.length-1];e.shiftKey?u===document.activeElement&&(e.preventDefault(),c.focus()):c===document.activeElement&&(e.preventDefault(),u.focus())}};return d.jsx("div",{ref:n,onKeyDown:a,...i})};exports.FocusTrap=m;
