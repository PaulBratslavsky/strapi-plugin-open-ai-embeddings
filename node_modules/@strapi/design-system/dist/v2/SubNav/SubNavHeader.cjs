"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),s=require("react"),v=require("@strapi/icons"),C=require("styled-components"),R=require("../../helpers/keyboardKeys.cjs"),T=require("../../hooks/useId.cjs"),D=require("../../hooks/usePrevious.cjs"),I=require("../../Divider/Divider.cjs"),a=require("../../Box/Box.cjs"),K=require("../../Searchbar/SearchForm.cjs"),_=require("../../Searchbar/Searchbar.cjs"),k=require("../../Flex/Flex.cjs"),w=require("../../Typography/Typography.cjs"),F=require("../../IconButton/IconButton.cjs"),O=r=>r&&r.__esModule?r:{default:r},P=O(C),l=P.default(I.Divider)`
  width: ${24/16}rem;
  background-color: ${({theme:r})=>r.colors.neutral200};
`,E=({as:r="h2",label:f,searchLabel:u="",searchable:h=!1,onChange:p=()=>{},value:g="",onClear:x=()=>{},onSubmit:S=()=>{},id:y})=>{const[t,c]=s.useState(!1),d=D.usePrevious(t),b=T.useId(y),o=s.useRef(void 0),i=s.useRef(void 0);s.useEffect(()=>{t&&o.current&&o.current.focus(),d&&!t&&i.current&&i.current.focus()},[t,d]);const j=()=>{c(n=>!n)},q=n=>{x(n),o.current.focus()},B=n=>{n.relatedTarget?.id!==b&&c(!1)},m=n=>{n.key===R.KeyboardKeys.ESCAPE&&c(!1)};return t?e.jsxs(a.Box,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[e.jsx(K.SearchForm,{children:e.jsx(_.Searchbar,{name:"searchbar",value:g,onChange:p,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:m,ref:o,onBlur:B,onClear:q,onSubmit:S,clearLabel:"Clear",size:"S",children:u})}),e.jsx(a.Box,{paddingLeft:2,paddingTop:4,children:e.jsx(l,{})})]}):e.jsxs(a.Box,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[e.jsxs(k.Flex,{justifyContent:"space-between",alignItems:"flex-start",children:[e.jsx(w.Typography,{variant:"beta",as:r,children:f}),h&&e.jsx(F.IconButton,{ref:i,onClick:j,label:u,icon:e.jsx(v.Search,{})})]}),e.jsx(a.Box,{paddingTop:4,children:e.jsx(l,{})})]})};exports.SubNavHeader=E;
